<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>QQ简易聊天框</title>
    <link rel="stylesheet" href="css/chat.css">
	<script src="../js/jquery-3.6.1.js"></script>
    <style>
        .headImg{
            padding: 2px 2px 2px 40px;
            background: url("images/head01.jpg") no-repeat;
        }
        p{color: blue;
        }
    </style>
	<script>
        const uName = ["时尚伊人", "六月奇迹", "松松"]
        const uImg = ["images/head01.jpg", "images/head02.jpg", "images/head03.jpg"]
		$(function(){
			$("#send").click(function(){
                const ran = Math.floor(Math.random()*3)
                const msg = $(".chatText").val();
                if (msg.length === 0){
                    return
                }
                let html = $(".chatBody").html();
                html += "<div>"+
                        "<p>" + uName[ran] + "</p>"
                        +msg+
                        "</div>"
                console.log(uName[ran])
				$(".chatBody").html(html);
				$(".chatText").val("");

                $(".chatBody div:last")
                    .addClass("headImg")
                    .css({"background":"url("+ uImg[ran] +") no-repeat"}).


				// 垂直滚动条，滚动到最后
				$(".chatBody").scrollTop($(".chatBody")[0].scrollHeight);
			
			});
		
		});

	</script>
</head>
<body>
<section id="chat">
    <div class="chatBody"></div>
    <div><img src="images/icon.jpg" alt=""></div>
    <label>
        <textarea class="chatText"></textarea>
    </label>
    <div class="btn"><span>关闭(C)</span><span id="send">发送(S)</span></div>
</section>
</body>
</html>